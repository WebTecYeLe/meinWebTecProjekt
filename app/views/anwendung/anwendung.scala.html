@(title: String)(message: String)(info: String)(typ: String)(listeorte:
List[Orte])(zaehler: List[Zaehler])

<!DOCTYPE html>
<html>

<head>
<title>@title</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">

<link href="/assets/stylesheets/bootstrap.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/bootstrap.min.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/bootstrap-theme.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/bootstrap-theme.min.css"
	rel="stylesheet" media="screen">
<link href="/assets/stylesheets/main.css" rel="stylesheet"
	media="screen">

<link
	href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">

<link href="/assets/stylesheets/own.css" rel="stylesheet" media="screen">


<script>
	document.createElement('header');
	document.createElement('nav');
	document.createElement('article');
	document.createElement('footer');
</script>



<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="../../assets/js/html5shiv.js"></script>
<script src="../../assets/js/respond.min.js"></script>
<![endif]-->
</head>

<body>

	<!-- Facebook Login -->

	<div id="fb-root"></div>
	<script
		src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script>
		window.fbAsyncInit = function() {
			FB.init({
				appId : '1385512941707215',
				status : true, // check login status
				cookie : true, // enable cookies to allow the server to access the session
				xfbml : true,
				oauth : true
			// parse XFBML
			});

			// Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
			// for any authentication related change, such as login, logout or session refresh. This means that
			// whenever someone who was previously logged out tries to log in again, the correct case below 
			// will be handled. 
			FB.Event.subscribe('auth.authResponseChange', function(response) {
				// Here we specify what we do with the response anytime this event occurs. 
				if (response.status === 'connected') {
					// The response object is returned with a status field that lets the app know the current
					// login status of the person. In this case, we're handling the situation where they 
					// have logged in to the app.
					alert("OK");
					testAPI();
				} else if (response.status === 'not_authorized') {
					// In this case, the person is logged into Facebook, but not into the app, so we call
					// FB.login() to prompt them to do so. 
					// In real-life usage, you wouldn't want to immediately prompt someone to login 
					// like this, for two reasons:
					// (1) JavaScript created popup windows are blocked by most browsers unless they 
					// result from direct interaction from people using the app (such as a mouse click)
					// (2) it is a bad experience to be continually prompted to login upon page load.
					alert("not auth.");
					FB.login();
				} else {
					// In this case, the person is not logged into Facebook, so we call the login() 
					// function to prompt them to do so. Note that at this stage there is no indication
					// of whether they are logged into the app. If they aren't then they'll see the Login
					// dialog right after they log in to Facebook. 
					// The same caveats as above apply to the FB.login() call here.
					alert("--> else");
					FB.login();
				}
			});
		};

		// Load the SDK asynchronously
		(function(d) {
			var js, id = 'facebook-jssdk', ref = d
					.getElementsByTagName('script')[0];
			if (d.getElementById(id)) {
				return;
			}
			js = d.createElement('script');
			js.id = id;
			js.async = true;
			js.src = "//connect.facebook.net/en_US/all.js";
			ref.parentNode.insertBefore(js, ref);
		}(document));

		// Here we run a very simple test of the Graph API after login is successful. 
		// This testAPI() function is only called in those cases. 
		function testAPI() {
			console.log('Welcome!  Fetching your information.... ');
			FB.api('/me', function(response) {
				console.log('Good to see you, ' + response.name + '.');
			});
		}
	</script>

	<!--
  Below we include the Login Button social plugin. This button uses the JavaScript SDK to
  present a graphical Login button that triggers the FB.login() function when clicked. -->

	<div class="fblog_position">
		<fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>
	</div>




	<!-- 	bis hierher			 -->

	<div class="">

		<header>
			<div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse"
							data-target=".navbar-collapse">
							<span class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>

						<a class="navbar-brand" href="/">ProTramp Mitfahrgelegenheit</a>
					</div>
					<div class="collapse navbar-collapse">
						<ul class="nav navbar-nav">
							<li class="active"><a href="/">Suche</a></li>
							<li><a href="/info">&Uuml;ber uns</a></li> @if(message) {
							<li><a href="/konto/index">Konto</a></li> } else {
							<li><a href="/registrierung">Registrierung</a></li> }
						</ul>

						@if(message) {
						<div class="login_form">
							<!-- <span>Sie sind angemeldet als @message</span> -->
							<form class="form-inline" method="POST"
								action="/benutzerlogin/logout">

								<div class="form-group">
									<label class="sr-only" for="exampleInputEmail2"></label> <a
										class="active">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Willkommen,
										@message</a>&nbsp;&nbsp;&nbsp;&nbsp;
								</div>

								<button type="submit" class="btn btn-primary">Logout</button>
							</form>
						</div>

						} else {
						<div class="login_form">
							<!-- Hier ist das Formular fÃ¼r den Login -->
							<form class="form-inline" role="form" method="POST"
								action="/benutzerlogin/login">

								<div class="form-group">
									<label class="sr-only" for="exampleInputEmail2">E-Mail
										address</label> <input type="text" class="form-control"
										id="exampleInputEmail2" name="nutzer"
										placeholder="Email oder Username" required>
								</div>

								<div class="form-group">
									<label class="sr-only" for="exampleInputPassword2">Password</label>
									<input type="password" class="form-control"
										id="exampleInputPassword2" name="kennwort"
										placeholder="Password">
								</div>

								<div class="checkbox">
									<label class="checkbox_login" for="checkbox_login_name">
										<input type="checkbox" name="checkbox_login_name">Speichern&nbsp;&nbsp;
									</label>
								</div>

								<button type="submit" class="btn btn-primary">Einloggen</button>
							</form>
						</div>

						}






					</div>
					<!-- /.nav-collapse -->
				</div>
				<!-- /.container -->
			</div>
			<!-- /.navbar -->

		</header>
		<!-- 
		<div class="fb_login">
			<fb:login-button show-faces="true" width="200" max-rows="1" scope="email"></fb:login-button>
			<a href="#" onclick="getUserInfo()">Get Facebook UserInfo</a>
			<a href="/" onclick="FB.logout()">Logout</a>				
		</div>
		-->
		<article>




			<form method="POST" action="/anwendung/mfg_suchen">
				@if(message) {
				<div class="box_ortsuche_eingelogged">
					<br>
					<div>
						<div class="ui-widget">
							<div class="input-group">
								<span class="input-group-addon">Von: &nbsp;&nbsp;&nbsp;</span> <input
									type="text" class="form-control" id="von" name="exampleVon"
									list="datalist3" placeholder="Startort" required>
								<datalist id="datalist3">
									@if(listeorte.isEmpty()) { } else { @for(i <- listeorte) {
									<option value=@i.name>} }
								</datalist>
							</div>
						</div>
					</div>
					<br>
					<div>
						<div class="input-group">
							<span class="input-group-addon">Nach:&nbsp;&nbsp;</span> <input
								type="text" class="form-control" id="nach" name="exampleNach"
								list="datalist4" placeholder="Zielort" required>
							<datalist id="datalist4">
								@if(listeorte.isEmpty()) { } else { @for(x <- listeorte) {
								<option value=@x.name>} }
							</datalist>
						</div>
					</div>
					<br> <span class="input-group-addon"><p
							class="position_links">Datum ab:</p> <select id="AuswahlTage"
						name="Tag" size="1"></select> <select id="AuswahlMonate"
						name="Monat" size="1"></select> <select id="AuswahlJahre"
						name="Jahr" size="1"></select></span><br>

					<button type="submit" class="btn btn-primary">Suchen</button>
				</div>

				} else {
				<div class="box_ortsuche">
					@if(info) {

					<div class="row">
						<br />
						<div class="alert alert-danger">@info</div>
					</div>

					} <br>
					<div>
						<div class="ui-widget">
							<div class="input-group">
								<span class="input-group-addon">Von: &nbsp;&nbsp;&nbsp;</span> <input
									type="text" class="form-control" id="von" name="exampleVon"
									placeholder="Startort" list="datalist1" required>
								<datalist id="datalist1">
									@if(listeorte.isEmpty()) { } else { @for(j <- listeorte) {
									<option value=@j.name>} }
								</datalist>
							</div>
						</div>
					</div>
					<br>
					<div>
						<div class="input-group">
							<span class="input-group-addon">Nach:&nbsp;&nbsp;</span> <input
								type="text" class="form-control" id="nach" name="exampleNach"
								placeholder="Zielort" list="datalist2" required>



							<datalist id="datalist2">

								@if(listeorte.isEmpty()) { } else { @for(k <- listeorte) {
								<option value=@k.name>} }
							</datalist>
						</div>
					</div>
					<br> <span class="input-group-addon"><p
							class="position_links">Datum:</p> <select id="AuswahlTage"
						name="Tag" size="1"></select> <select id="AuswahlMonate"
						name="Monat" size="1"></select> <select id="AuswahlJahre"
						name="Jahr" size="1"></select></span> <br> <br>







					<button type="submit" class="btn btn-primary">Suchen</button>
				</div>

				}

				<!--  
				<div id="fb-root" class="fb_position"></div>
				<script>
			window.fbAsyncInit = function() {
				FB.init({
					appId : '1385512941707215',
					status : true,
					cookie : true,
					xfbml : true,
					oauth : true
				

				FB.Event.subscribe('auth.authResponseChange',
						function(response) {

							if (response.status === 'connected') {

								testAPI();
							} else if (response.status === 'not_authorized') {

								FB.login(function(response) {
									   // handle the response
									 }, {scope: 'emails','id','first_name','last_name','birthday','gender'});
							} else {

								FB.login(function(response) {
									   // handle the response
									 }, {scope: 'emails','id','first_name','last_name','birthday','gender'});
								
							} else{
								FB.logout(function(response) {
									  FB.Auth.setAuthResponse(null, 'unknown');
									 
									});
							}
						});
				});
				
			};

			(function(d) {
				var js, id = 'facebook-jssdk', ref = d
						.getElementsByTagName('script')[0];
				if (d.getElementById(id)) {
					return;
				}
				js = d.createElement('script');
				js.id = id;
				js.async = true;
				js.src = "//connect.facebook.net/en_US/all.js";
				ref.parentNode.insertBefore(js, ref);
			}(document));

			function testAPI() {
				console.log('Welcome!  Fetching your information.... ');
				FB.api('/me', function(response) {
					console.log('Good to see you, ' + response.name + '.');
				});			
			}
			function getUserInfo() {
		        console.log('Welcome!  Fetching your information.... ');
		    FB.api('/me', function(response) {
		      console.log('Good to see you, ' + response.name + '.');

		      $("#fb-userinfo").html("<b>Facebook User Info:</b><br/> "  +JSON.stringify(response));
		    });
		  }
			
		</script>


		-->


			</form>
		</article>


		<script>
			(function() {

				//Datum einstellen
				var elJahr = document.getElementById('AuswahlJahre'), dc = document
						.createDocumentFragment();

				var jetzt = new Date();
				var jahr = jetzt.getFullYear();
				var bis = jahr + 1;

				//Nur Datum in der Gegenwart und Zukunft werden angenommen
				for (var i = jahr; i <= bis; i++) {
					var option = document.createElement('option');
					option.value = i;
					option.appendChild(document.createTextNode(i));
					dc.appendChild(option);
				}
				elJahr.appendChild(dc);

				var elMonat = document.getElementById('AuswahlMonate'), dc = document
						.createDocumentFragment();

				for (var i = 1; i <= 12; i++) {
					var option = document.createElement('option');
					option.value = i;
					if (i < 10) {
						option.appendChild(document.createTextNode("0" + i));
					} else {
						option.appendChild(document.createTextNode(i));
					}

					dc.appendChild(option);
				}
				elMonat.appendChild(dc);

				var elTag = document.getElementById('AuswahlTage'), dc = document
						.createDocumentFragment();

				for (var i = 1; i <= 31; i++) {
					var option = document.createElement('option');
					option.value = i;
					if (i < 10) {
						option.appendChild(document.createTextNode("0" + i));
					} else {
						option.appendChild(document.createTextNode(i));
					}

					dc.appendChild(option);
				}
				elTag.appendChild(dc);

				elJahr.value = jahr;

				var akt_monat = jetzt.getMonth() + 1;

				if (akt_monat < 10) {
					elMonat.value = "0" + akt_monat;

				} else {
					elMonat.value = akt_monat;
				}

				var d = new Date();
				var q = d.getDate();
				document.getElementById("AuswahlTage").value = q;

			}());
		</script>








		@if(message) { @if(typ) {
		<div class="menue_anwendung">
			<div class="list-group">
				<a href="/" class="list-group-item active"> MFG suchen </a> <a
					href="/anwendung/mfg_anbieten" class="list-group-item">MFG
					anbieten</a> <a href="/anwendung/mfg_anzeigen" class="list-group-item">Meine
					MFGs anzeigen @if(zaehler.isEmpty()) { } else { <span
					class="badge pull-right">@for(q <- zaehler) { @q.meine_mfgs
						} </span> }

				</a> <a href="/anwendung/anfragen_index" class="list-group-item">Anfragen
					@if(zaehler.isEmpty()) {} else {<span class="badge pull-right">
						@for(x <- zaehler) { @x.anfragen } </span> }
				</a> <a href="/konto/index" class="list-group-item">Mein Konto</a>
			</div>
		</div>

		} else {
		<div class="menue_anwendung">
			<div class="list-group">
				<a href="/" class="list-group-item active"> MFG suchen </a><a
					href="/anwendung/mfg_anzeigen" class="list-group-item">Meine
					MFGs anzeigen<span class="badge pull-right">
						@if(zaehler.isEmpty()) {} else { @for(q <- zaehler) {
						@q.meine_mfgs } </span>}
				</a> <a href="/anwendung/anfragen_index" class="list-group-item">Anfragen<span
					class="badge pull-right"> @if(zaehler.isEmpty()) {} else {
						@for(x <- zaehler) { @x.anfragen } </span>}
				</a> <a href="/konto/index" class="list-group-item">Mein Konto</a>
			</div>
		</div>

		} }





		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->

		<!-- Include all compiled plugins (below), or include individual files as needed -->
	</div>
</body>

</html>