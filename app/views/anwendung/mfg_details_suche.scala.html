@(title: String)(message: String)(info: String)(typ: String)(anzeige:
List[AnzeigeDetails])(zaehler: List[Zaehler])(bereitsAngefragt: String)

<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>@title</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">

<link href="/assets/stylesheets/bootstrap.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/bootstrap.min.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/bootstrap-theme.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/bootstrap-theme.min.css"
	rel="stylesheet" media="screen">
<link href="/assets/stylesheets/main.css" rel="stylesheet"
	media="screen">
<link href="/assets/stylesheets/own.css" rel="stylesheet" media="screen">

<link
	href="https://developers.google.com/maps/documentation/javascript/examples/default.css"
	rel="stylesheet">
<script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

<script>
	document.createElement('header');
	document.createElement('nav');
	document.createElement('article');
	document.createElement('footer');
</script>

<script>
	var latstart;
	var lngstart;
	var latziel;
	var lngziel;
	var latstrecke;
	var lngstrecke;

	var geocoder;
	var map;
	var mapOptions = {
		zoom : 10,
		mapTypeId : google.maps.MapTypeId.ROADMAP
	}
	var marker;

	function initialize() {
		geocoder = new google.maps.Geocoder();
		map = new google.maps.Map(document.getElementById('map_canvas'),
				mapOptions);

		codeAddressStart();
	}

	function codeAddressStart() {

		geocoder.geocode({
			'address' : start
		}, function(results, status) {
			if (status == google.maps.GeocoderStatus.OK) {
				map.setCenter(results[0].geometry.location);
				if (marker)
					marker.setMap(null);
				marker = new google.maps.Marker({
					map : map,
					position : results[0].geometry.location,
					draggable : true
				});
				google.maps.event.addListener(marker, "dragend", function() {
					document.getElementById('latstart').value = marker
							.getPosition().lat();
					document.getElementById('lngstart').value = marker
							.getPosition().lng();
				});
				document.getElementById('latstart').value = marker
						.getPosition().lat();
				document.getElementById('lngstart').value = marker
						.getPosition().lng();

				bereit();
				codeAddressZiel();

			} else {
				//alert('Geocode was not successful for the following reason: ' + status);
			}
		});
	}

	function codeAddressZiel() {

		geocoder.geocode({
			'address' : ziel
		}, function(results, status) {
			if (status == google.maps.GeocoderStatus.OK) {
				map.setCenter(results[0].geometry.location);
				if (marker)
					marker.setMap(null);
				marker = new google.maps.Marker({
					map : map,
					position : results[0].geometry.location,
					draggable : true
				});
				google.maps.event.addListener(marker, "dragend", function() {
					document.getElementById('latziel').value = marker
							.getPosition().lat();
					document.getElementById('lngziel').value = marker
							.getPosition().lng();
				});
				document.getElementById('latziel').value = marker.getPosition()
						.lat();
				document.getElementById('lngziel').value = marker.getPosition()
						.lng();

				bereit();
				codeAddressStrecke();

			} else {
				//alert('Geocode was not successful for the following reason: ' + status);
			}
		});
	}

	function codeAddressStrecke() {

		geocoder.geocode({
			'address' : strecke
		}, function(results, status) {
			if (status == google.maps.GeocoderStatus.OK) {
				map.setCenter(results[0].geometry.location);
				if (marker)
					marker.setMap(null);
				marker = new google.maps.Marker({
					map : map,
					position : results[0].geometry.location,
					draggable : true
				});
				google.maps.event.addListener(marker, "dragend", function() {
					document.getElementById('latstrecke').value = marker
							.getPosition().lat();
					document.getElementById('lngstrecke').value = marker
							.getPosition().lng();
				});
				document.getElementById('latstrecke').value = marker
						.getPosition().lat();
				document.getElementById('lngstrecke').value = marker
						.getPosition().lng();

				bereit();

			} else {
				//alert('Geocode was not successful for the following reason: ' + status);
			}
		});
	}

	function bereit() {
		latstart = parseFloat(document.getElementById('latstart').value);
		lngstart = parseFloat(document.getElementById('lngstart').value);
		latziel = parseFloat(document.getElementById('latziel').value);
		lngziel = parseFloat(document.getElementById('lngziel').value);
		latstrecke = parseFloat(document.getElementById('latstrecke').value);
		lngstrecke = parseFloat(document.getElementById('lngstrecke').value);

		if (latstart > 0.0) {
			if (lngstart > 0.0) {
				if (latziel > 0.0) {
					if (lngziel > 0.0) {
						if (latstrecke > 0.0) {
							if (lngstrecke > 0.0) {

								calcRoute();

							}
						}
					}
				}
			}

		} else {
			initialize();
		}

	}

	function calcRoute() {
		var directionsDisplay;
		var directionsService = new google.maps.DirectionsService();

		directionsDisplay = new google.maps.DirectionsRenderer();
		directionsDisplay.setMap(map);

		var start = new google.maps.LatLng(latstart, lngstart); //document.getElementById("start").value;
		var end = new google.maps.LatLng(latziel, lngziel); //document.getElementById("end").value;
		var request = {
			origin : start,
			destination : end,
			waypoints : [ {
				location : new google.maps.LatLng(latstrecke, lngstrecke),
				stopover : true
			}, ],

			travelMode : google.maps.TravelMode.DRIVING
		};

		directionsService.route(request, function(result, status) {

			if (status == google.maps.DirectionsStatus.OK) {

				console.log("route. " + result);
				directionsDisplay.setDirections(result);
			} else {

				console.log("route failed. status:" + status + " result:"
						+ result);
			}
		});

	}
</script>

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="../../assets/js/html5shiv.js"></script>
<script src="../../assets/js/respond.min.js"></script>
<![endif]-->
</head>
<body>

	<header>
		<div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target=".navbar-collapse">
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>

					<a class="navbar-brand" href="/">ProTramp Mitfahrgelegenheit</a>
				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="/">Suche</a></li>
						<li><a href="/info">&Uuml;ber uns</a></li> @if(message) {
						<li><a href="/konto/index">Konto</a></li> } else {
						<li><a href="/registrierung">Registrierung</a></li> }

					</ul>

					@if(message) {
					<div class="login_form">
						<!-- <span>Sie sind angemeldet als @message</span> -->
						<form class="form-inline" method="POST"
							action="/benutzerlogin/logout">

							<div class="form-group">
								<label class="sr-only" for="exampleInputEmail2"></label> <a
									class="active">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
									&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Willkommen,
									@message</a>&nbsp;&nbsp;&nbsp;&nbsp;
							</div>

							<button type="submit" class="btn btn-primary">Logout</button>
						</form>
					</div>
					} else {
					<div class="login_form">
						<!-- Hier ist das Formular fÃƒÆ’Ã‚Â¼r den Login -->
						<form class="form-inline" role="form" method="POST"
							action="/benutzerlogin/login">

							<div class="form-group">
								<label class="sr-only" for="exampleInputEmail2">E-Mail
									address</label> <input type="text" class="form-control"
									id="exampleInputEmail2" name="nutzer"
									placeholder="Email oder Username" required>
							</div>

							<div class="form-group">
								<label class="sr-only" for="exampleInputPassword2">Password</label>
								<input type="password" class="form-control"
									id="exampleInputPassword2" name="kennwort"
									placeholder="Password">
							</div>

							<div class="checkbox">
								<label class="checkbox_login" for="checkbox_login_name">
									<input type="checkbox" name="checkbox_login_name">Speichern&nbsp;&nbsp;
								</label>
							</div>

							<button type="submit" class="btn btn-primary">Einloggen</button>
						</form>
					</div>
					}




				</div>
				<!-- /.nav-collapse -->
			</div>
			<!-- /.container -->
		</div>
		<!-- /.navbar -->
	</header>


	<form method="GET" action="/anwendung/mfg_anzeigen"></form>
	@if(message) { @if(typ) {
	<div class="menue_anwendung">
		<div class="list-group">
			<a href="/" class="list-group-item active"> MFG suchen <span
				class="badge pull-right">@for(k <- zaehler) {
					@k.suchergebnisse } </span></a> <a href="/anwendung/mfg_anbieten"
				class="list-group-item">MFG anbieten</a> <a
				href="/anwendung/mfg_anzeigen" class="list-group-item ">Meine
				MFGs anzeigen<span class="badge pull-right">@for(q <-
					zaehler) { @q.meine_mfgs } </span>
			</a> <a href="/anwendung/anfragen_index" class="list-group-item">Anfragen<span
				class="badge pull-right"> @for(x <- zaehler) { @x.anfragen }

			</span></a> <a href="/konto/index" class="list-group-item">Mein Konto</a>
		</div>
	</div>

	} else {
	<div class="menue_anwendung">
		<div class="list-group">
			<a href="/" class="list-group-item active"> MFG suchen <span
				class="badge pull-right">@for(k <- zaehler) {
					@k.suchergebnisse } </span></a><a href="/anwendung/mfg_anzeigen"
				class="list-group-item ">Meine MFGs anzeigen<span
				class="badge pull-right">@for(q <- zaehler) { @q.meine_mfgs }
			</span></a> <a href="/anwendung/anfragen_index" class="list-group-item">Anfragen<span
				class="badge pull-right"> @for(x <- zaehler) { @x.anfragen }

			</span></a> <a href="/konto/index" class="list-group-item">Mein Konto</a>
		</div>
	</div>

	} }
	</form>

	@if(message) {
	<div class="anzeige_details">

		} else {
		<div class="anzeige_details_2">

			} @if(anzeige.isEmpty) {
			<p>
			<h3>Keine Eintr&auml;ge gefunden.</h3>
			</p>

			} else { @for(i <- anzeige) {

			<div>
				<div class="input-group">
					<span class="input-group-addon">Start: &nbsp;&nbsp;&nbsp;</span> <input
						type="text" class="form-control" name="mfg_anbieten_start" id="address_start"
						value=@i.start readonly>
				</div>
			</div>
			<br>
			<div>
				<div class="input-group">
					<span class="input-group-addon">Ziel:
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <input type="text"
						class="form-control" name="mfg_anbieten_ziel" id="address_ziel" value=@i.ziel
						readonly>
				</div>
			</div>
			<br>
			<div>
				<div class="input-group">
					<span class="input-group-addon">Strecke: </span> <input type="text"
						class="form-control" name="mfg_anbieten_strecke" id="address_strecke" value=@i.strecke
						readonly>
				</div>
			</div>
			<br>
			<div>
				<div class="input-group">
					<span class="input-group-addon">Datum: &nbsp;</span> <input
						type="text" class="form-control" name="mfg_anbieten_datum"
						value=@i.datum readonly>
				</div>
			</div>
			<br>
			<div>
				<div class="input-group">
					<span class="input-group-addon">Uhrzeit: &nbsp;</span> <input
						type="text" class="form-control" name="mfg_anbieten_uhrzeit"
						value=@i.uhrzeit readonly>
				</div>
			</div>
			<br>
			<div>
				<div class="input-group">
					<span class="input-group-addon">Fahrer: &nbsp;</span> <input
						type="text" class="form-control" name="mfg_anbieten_fahrer"
						value=@i.fahrer readonly>
				</div>
			</div>
			<br>
			<div>
				<div class="input-group">
					<span class="input-group-addon">Pl&auml;tze: &nbsp;&nbsp;</span> <input
						type="text" class="form-control" name="mfg_anbieten_ziel"
						value=@i.anzahl_plaetze readonly>
				</div>
			</div>
			<br>
			<div>
				@if(typ == null) { @if(message) { } } else { @if(typ.isEmpty()) {

				@if(bereitsAngefragt == null) {
				<form method="POST" action="/anwendung/@i.id/anfragen">
					<button type="submit" class="btn btn-default btn-block">Jetzt
						anfragen</button>
				</form>

				} else { <span><h4>Wurde bereits angefragt. Status wird
						bearbeitet.</h4></span> } } else { @if(info) {
				<button type="submit" class="btn btn-primary btn-block">Anfragen
					und Teilnehmer zeigen</button>
				} } }

			</div>

			} }



		</div>

		<div class="eingabe_map_canvas">
			<!-- <input id="address" type="textbox" style="width: 60%" value="rua tabapuã - vila olimpia - são paulo"> -->
			<!-- <input type="button" value="Geocode" onclick="codeAddress()"> -->
			<br> <input type="hidden" id="latstart" name="latstart" value="" />
			<input type="hidden" id="lngstart" name="lngstart" value="" /> <input
				type="hidden" id="latziel" name="latziel" value="" /> <input
				type="hidden" id="lngziel" name="lngziel" value="" /> <input
				type="hidden" id="latstrecke" name="latstrecke" value="" /> <input
				type="hidden" id="lngstrecke" name="lngstrecke" value="" />

		</div>

		<div class="map_canvas_seitenposition">
			<div id="map_canvas" style="height: 60%; top: 30px"></div>
		</div>




		<script type="text/javascript">
			var start = document.getElementById("address_start").value;
			var ziel = document.getElementById("address_ziel").value;
			var strecke = document.getElementById("address_strecke").value;
			initialize();
		</script>
</body>
</html>